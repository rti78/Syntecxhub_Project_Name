import random

def number_guessing_game():
    print("------ Welcome to the Number Guessing Game! ------")

    best_score = None  # Track best (lowest) attempts

    while True:
        print("\nChoose Difficulty Level:")
        print("1. Easy (1 to 10)")
        print("2. Medium (1 to 50)")
        print("3. Hard (1 to 100)")

        # Select difficulty
        choice = input("Enter your choice (1/2/3): ").strip()

        if choice == '1':
            max_number = 10
        elif choice == '2':
            max_number = 50
        elif choice == '3':
            max_number = 100
        else:
            print("Invalid choice! Please enter 1, 2, or 3.")
            continue

        # Generate random number
        secret_number = random.randint(1, max_number)
        attempts = 0

        print(f"\nI have chosen a number between 1 and {max_number}. Can you guess it?")

        # Main guessing loop
        while True:
            try:
                guess = int(input("Enter your guess: "))
                attempts += 1

                if guess < 1 or guess > max_number:
                    print(f"Your guess is out of range! Please enter between 1 and {max_number}.")
                    continue

                if guess < secret_number:
                    print("Too low! Try again.")
                elif guess > secret_number:
                    print("Too high! Try again.")
                else:
                    print(f"ðŸŽ‰ Correct! You guessed the number in {attempts} attempts.")
                    if best_score is None or attempts < best_score:
                        best_score = attempts
                        print("ðŸ† New best score!")
                    break
            except ValueError:
                print("Invalid input! Please enter a number.")

        # Replay option
        print(f"Your best score so far: {best_score} attempts.")
        play_again = input("Do you want to play again? (yes/no): ").strip().lower()
        if play_again not in ['yes', 'y']:
            print("Thanks for playing! Goodbye ðŸ‘‹")
            break

# Run the game
if __name__ == "__main__":
    number_guessing_game()
